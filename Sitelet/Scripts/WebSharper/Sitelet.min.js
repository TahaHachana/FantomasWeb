(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p;$.Define($$,{Website:{Config:{Client:{configForm:$.Field(function(){var q,r,s,t,u,v;return c.Form(d.ofArray([(q=d.ofArray([c.Text("Formatting Configuration")]),(r=c.Tags(),r.NewTag("legend",q))),e.add(c.Div(d.ofArray([c.Attr().Class("form-group")])),d.ofArray([(s=d.ofArray([c.Text("Indentation")]),(t=c.Tags(),t.NewTag("label",s))),h.indentSpaceNum()])),e.add(c.Div(d.ofArray([c.Attr().Class("form-group")])),d.ofArray([(u=d.ofArray([c.Text("Page width")]),(v=c.Tags(),v.NewTag("label",u))),h.pageWidth()])),c.Hr($.New(i,{$:0})),h.label(h.semicolonAtEndOfLine(),"Semicolon at end of line"),h.label(h.spaceBeforeArgument(),"Space before argument"),h.label(h.spaceBeforeColon(),"Space before colon"),h.label(h.spaceAfterComma(),"Space after comma"),h.label(h.spaceAfterSemicolon(),"Space after semicolon"),h.label(h.indentOnTryWith(),"Indent on try with"),h.label(h.parseAsFsi(),"Parse as F# signatures"),h.label(h.reorderOpenDeclaration(),"Reorder Open Declaration"),h.label(h.spaceAroundDelimiter(),"Space Around Delimiter"),h.label(h.strictMode(),"Strict Mode")]));}),getConfig:function(){return{IndentOnTryWith:h.isChecked(h.indentOnTryWith()),IndentSpaceNum:h.indentSpaceNum().get_Value(),PageWidth:h.pageWidth().get_Value(),ParseAsFsi:h.isChecked(h.parseAsFsi()),ReorderOpenDeclaration:h.isChecked(h.reorderOpenDeclaration()),SemicolonAtEndOfLine:h.isChecked(h.semicolonAtEndOfLine()),SpaceAfterComma:h.isChecked(h.spaceAfterComma()),SpaceAfterSemicolon:h.isChecked(h.spaceAfterSemicolon()),SpaceAroundDelimiter:h.isChecked(h.spaceAroundDelimiter()),SpaceBeforeArgument:h.isChecked(h.spaceBeforeArgument()),SpaceBeforeColon:h.isChecked(h.spaceBeforeColon()),StrictMode:h.isChecked(h.strictMode())};},indentOnTryWith:$.Field(function(){return h.inputCheckbox(false);}),indentSpaceHtml:$.Field(function(){return j.concat("",d.ofArray(["<select>","<option>1</option>","<option>2</option>","<option>3</option>","<option selected=\"selected\">4</option>","<option>5</option>","<option>6</option>","<option>7</option>","<option>8</option>","<option>9</option>","<option>10</option>","</select>"]));}),indentSpaceNum:$.Field(function(){var w,x;w=c.Select(d.ofArray([c.Attr().Class("form-control")]));x=function(y){return e.OnAfterRender(function(z){return z.set_Html(h.indentSpaceHtml());},y);};x(w);return w;}),inputCheckbox:function(A){var B,C,D;B=c.Input(d.ofArray([(C=c.Attr(),C.NewAttr("type","checkbox"))]));if(A){return e.add(B,d.ofArray([(D=c.Attr(),D.NewAttr("checked","checked"))]));}else{return B;}},isChecked:function(E){return k(E.Body).is(":checked");},label:function(F,G){var H,I;return e.add((H=d.ofArray([c.Attr().Class("checkbox")]),(I=c.Tags(),I.NewTag("label",H))),d.ofArray([F,c.Text(G)]));},main:function(){var J,K,L,M,N,R,S;return e.add(c.Div(d.ofArray([(J=c.Attr(),J.NewAttr("id","config"))])),d.ofArray([(K=c.Div(d.ofArray([(L=c.Attr(),L.NewAttr("id","config-text")),c.Text("Config")])),(M=(N=function(){return function(){return k("#config-form").toggle();};},function(Q){return l.Events().OnClick(N,Q);}),(M(K),K))),(R=c.Div(d.ofArray([c.Id("config-form")])),(S=h.configForm(),e.add(R,d.ofArray([S]))))]));},pageWidth:$.Field(function(){var T;return c.Input(d.ofArray([c.Attr().Class("form-control"),(T=c.Attr(),T.NewAttr("value","80"))]));}),parseAsFsi:$.Field(function(){return h.inputCheckbox(false);}),reorderOpenDeclaration:$.Field(function(){return h.inputCheckbox(false);}),semicolonAtEndOfLine:$.Field(function(){return h.inputCheckbox(true);}),spaceAfterComma:$.Field(function(){return h.inputCheckbox(true);}),spaceAfterSemicolon:$.Field(function(){return h.inputCheckbox(true);}),spaceAroundDelimiter:$.Field(function(){return h.inputCheckbox(false);}),spaceBeforeArgument:$.Field(function(){return h.inputCheckbox(false);}),spaceBeforeColon:$.Field(function(){return h.inputCheckbox(true);}),strictMode:$.Field(function(){return h.inputCheckbox(false);})},Control:$.Class({get_Body:function(){return h.main();}})},Fantomas:{Client:{clearBtn:function(){var U,V,W,X,Y,Z;U=(V=c.Button(d.ofArray([c.Attr().Class("btn btn-default btn-lg"),(W=c.Attr(),W.NewAttr("style","margin-left: 10px;"))])),(X=c.Text("Clear"),e.add(V,d.ofArray([X]))));Y=(Z=function(){return function(){return k("#code-textarea").val("");};},function(_2){return l.Events().OnClick(Z,_2);});Y(U);return U;},displayAlert:function(_3){var _4;_4=k("#alert");if(_3){_4.removeClass("alert-warning").addClass("alert-success").text("Code formatted successfully.");}else{_4.removeClass("alert-success").addClass("alert-warning").text("Formatting the code failed.");}_4.fadeIn();return _4.fadeOut(5000);},highlightBtn:function(){var _5,_6,_7,_8,_9;_5=(_6=c.Button(d.ofArray([c.Attr().Class("btn btn-primary btn-lg")])),(_7=c.Text("Format"),e.add(_6,d.ofArray([_7]))));_8=(_9=function(_){return function(){var bb,bc,bG;bb=(bc=function(){var be,bf,bi,bj,bk,bl,bm,bn,bo,bp,br,bs;be=_["HtmlProvider@32"];((bf=_.Body,function(bg){return function(bh){return be.SetAttribute(bf,bg,bh);};})("disabled"))("disabled");bi=k("#loader");bi.css("visibility","visible");bj=k("#formatted-textarea");bk=k("#html-textarea");bl=k("#html-preview");bj.val("");bk.val("");bl.html("");bm=h.getConfig();bn=(bo=k("#code-textarea").val(),(bp=function(bq){return $$.String(bq);},bp(bo)));br=m.Async("Sitelet:0",[bn,bm]);bs=function(bt){var bu,bv,bw,by,bz,bE;bi.css("visibility","hidden");bu=bt.$==1?(bv=bt.$1,(bw=bt.$0,(bj.val(bw).click(function(){return bj.select();}),(bk.val(bv).click(function(){return bk.select();}),(bl.html(bv),(o.displayAlert(true),p.Return(null))))))):(o.displayAlert(false),p.Return(null));by=(bz=function(){var bB,bC;bB=_["HtmlProvider@32"];(bC=_.Body,function(bD){return bB.RemoveAttribute(bC,bD);})("disabled");return p.Return(null);},p.Delay(bz));bE=function(){return by;};return p.Bind(bu,bE);};return p.Bind(br,bs);},p.Delay(bc));bG=function(bH){var bI;bI={$:0};return p.Start(bH);};return bG(bb);};},function(bJ){return l.Events().OnClick(_9,bJ);});_8(_5);return _5;},main:function(){return c.Div(d.ofArray([o.highlightBtn(),o.clearBtn()]));}},Control:$.Class({get_Body:function(){return o.main();}})}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Html);c=$.Safe(b.Default);d=$.Safe(a.List);e=$.Safe(b.Operators);f=$.Safe($$.Website);g=$.Safe(f.Config);h=$.Safe(g.Client);i=$.Safe(d.T);j=$.Safe(a.Strings);k=$.Safe($$.jQuery);l=$.Safe(b.EventsPervasives);m=$.Safe(a.Remoting);n=$.Safe(f.Fantomas);o=$.Safe(n.Client);return p=$.Safe(a.Concurrency);});$.OnLoad(function(){h.strictMode();h.spaceBeforeColon();h.spaceBeforeArgument();h.spaceAroundDelimiter();h.spaceAfterSemicolon();h.spaceAfterComma();h.semicolonAtEndOfLine();h.reorderOpenDeclaration();h.parseAsFsi();h.pageWidth();h.indentSpaceNum();h.indentSpaceHtml();h.indentOnTryWith();h.configForm();});}());
